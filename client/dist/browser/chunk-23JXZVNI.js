import{c as v}from"./chunk-3DGM27CH.js";import{a as _,b as s,c as M,d as P,e as y,f as F,g as O,h as w,i as S}from"./chunk-O3O6LRLF.js";import{a as C}from"./chunk-FXKAI37A.js";import{Da as g,Oa as p,Pa as r,Qa as a,Ra as c,Va as u,Xa as f,ab as m,bb as b,pa as i,ta as d,yb as x,za as l,zb as h}from"./chunk-M66U73VQ.js";function N(n,e){if(n&1&&(r(0,"div",6),m(1),a()),n&2){let t=f();i(),b(t.error)}}var I=class n{constructor(e,t,o){this.fb=e;this.http=t;this.router=o;this.loginForm=this.fb.group({username:["",s.required],password:["",s.required]})}loginForm;loading=!1;error="";onSubmit(){if(this.loginForm.invalid)return;this.loading=!0;let e=this.loginForm.value;this.http.post("https://portfolio-backend-y0at.onrender.com/api/auth/login",e).subscribe({next:t=>{localStorage.setItem("token",t.token),this.router.navigateByUrl("/admin-dashboard")},error:()=>{this.error="Identifiants invalides",this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(d(w),d(C),d(v))};static \u0275cmp=l({type:n,selectors:[["app-admin-login"]],decls:9,vars:3,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["type","text","placeholder","Username","formControlName","username"],["type","password","placeholder","Password","formControlName","password"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"h2"),m(2,"Admin Login"),a(),r(3,"form",1),u("ngSubmit",function(){return o.onSubmit()}),c(4,"input",2)(5,"input",3),r(6,"button",4),m(7,"Login"),a(),g(8,N,2,1,"div",5),a()()),t&2&&(i(3),p("formGroup",o.loginForm),i(3),p("disabled",o.loading),i(2),p("ngIf",o.error))},dependencies:[h,x,S,y,_,M,P,F,O],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:linear-gradient(145deg,#0d1b2a,#1b263b);color:#fff;padding:60px 20px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;background:#1b263b;padding:30px;border-radius:8px;box-shadow:0 0 15px #00d4ff;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#00d4ff}input[_ngcontent-%COMP%]{width:100%;padding:12px;margin:10px 0;border:none;border-radius:5px;font-size:16px;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#00d4ff;color:#0d1b2a;padding:12px;border:none;border-radius:5px;width:100%;font-size:16px;font-weight:700;cursor:pointer;transition:.3s}button[_ngcontent-%COMP%]:hover{background-color:#00bfff}.error[_ngcontent-%COMP%]{color:#ff4d4d;margin-top:10px;text-align:center;font-weight:700}@media (max-width: 768px){[_nghost-%COMP%]{padding:30px 10px}.login-container[_ngcontent-%COMP%]{padding:25px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:15px;padding:10px}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}}"]})};export{I as AdminLoginComponent};
